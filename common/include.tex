\documentclass[a4paper, 12pt]{article}

% Faire des marges un peu moins large que celles par défaut
\usepackage[top=20mm, bottom=20mm, left=25mm, right=25mm]{geometry}
\usepackage[utf8]{inputenc} % Pour l'encodage 
% Reconnaitre les caratères accentués dans le source.
\usepackage[T1]{fontenc} 
% Meilleurs polices
%\usepackage{concmath}
\usepackage[francais]{babel}
% Insertion d'images
\usepackage{graphicx}
% Pour le listing de code
\usepackage{listings}
% Pour la coloration syntaxique
\usepackage{xcolor}
% Pour fixer l'interlignage
\usepackage{setspace} 
% Pour faire un index (ici glossaire)
\usepackage{makeidx}
% Pour gérer les liens internes et les URL cliquables
\usepackage{url}
% Pour les headers et footers
\usepackage{fancyhdr}
% Pour gérer les éléments flottants
\usepackage{float}
% Pour les cadres à ombrage du glossaire
\usepackage{fancybox}
% Pour faire des sous-figures correctement numérotés
\usepackage{subfigure}
% Pour mettre les liens cliquables
\usepackage{hyperref}

% Permet l'ajout de code par insertion du fichier le contenant
% Coloration + ajout titre
% Les arguments sont :
% $1 : titre associé à l'extrait de code
% $2 : nom du fichier à inclure
% $3 : le type de langage (C++, C, Java ...)
\newcommand{\addCode}[2]{%

  % Configuration de la coloration syntaxique du code
  \definecolor{colKeys}{rgb}{0,0,1}
  \definecolor{colIdentifier}{rgb}{0,0,0}
  \definecolor{colComments}{rgb}{0,0.5,1}
  \definecolor{colString}{rgb}{0.6,0.1,0.1}

  % Configuration des options 
  \lstset{%
    language = #2,%
    identifierstyle=\color{colIdentifier},%
    basicstyle=\ttfamily\scriptsize, %
    keywordstyle=\color{colKeys},%
    stringstyle=\color{colString},%
    commentstyle=\color{colComments},%
    columns = flexible,%
    %tabsize = 8,%
    showspaces = false,%
    numbers = left, numberstyle=\tiny,%
    frame = single,frameround=tttt,%
    breaklines = true, breakautoindent = true,%
    captionpos = b,%
    xrightmargin=10mm, xleftmargin = 15mm, framexleftmargin = 7mm,%
  }%
    \begin{center}
    \lstinputlisting{#1}
    \end{center}
}
\newcommand{\addExample}[6]
{
    \begin{center}
    \footnotesize
        \definecolor{lightlgray}{rgb}{0.9,0.9,0.9}
        \fcolorbox{black}{lightlgray}{
            \begin{minipage}{0.9\linewidth}
                \setlength{\fboxrule}{1pt}
                \framebox{{\Large\texttt{#1}}}
                \setlength{\fboxrule}{0.4pt}
                \footnotesize
                \begin{description}
                    \item[Syntaxe] ~\\
                        \texttt{#2}
                    \item[Description]
                    #3
                    \item[Valeur de retour]~\\
                    #4
                    \item[Exemple d'utilisation] ~\\
                        \begin{minipage}{0.9\linewidth}
                        \addCode{#5}{#6}
                        \end{minipage}
                \end{description} 
            \end{minipage}
        } %end fcolorbox
    \end{center}
    \normalsize
}

% Couleur des url et des liens internes.
\hypersetup{urlcolor=blue,linkcolor=black,citecolor=black,colorlinks=true}

\newcommand{\kw}[1]{\texttt{#1}}

\newcommand{\DescFonction}[4]{%
	\texttt{\Large{#1}} % insert horizontal rule here
	\textbf{Synospis} \\
	#2 \\
	\textbf{Description} \\
	#3 \\
	\textbf{Valeur de retour} \\
	#4 \\
}


%headers, footers
\pagestyle{fancy}
\rhead{INSA de Lyon -- 2010/2011}
\lhead{Projet IHM}
\cfoot{\thepage}
\renewcommand{\footrulewidth}{0.4pt}

\author{H4203}
